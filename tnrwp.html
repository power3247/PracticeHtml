<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="shortcut icon" href="#" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <img id="test" src="https://codingapple1.github.io/kona.jpg" />
    <

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

    <script>
      function getAjax(url) {
        var 프로미스2 = new Promise(function (res, rej) {
          var 아약스 = $.ajax({
            url: url,
            type: "GET",
          }).done(function (결과) {
            res(결과);
          });
        });
        return 프로미스2;
      }

      var 프로미스 = new Promise(function (res, rej) {
        const testimg = document.querySelector("#test");
        testimg.addEventListener("error", () => {
          rej();
        });
        testimg.addEventListener("load", () => {
          res();
        });
      });

      프로미스
        .then(() => {
          console.log("성공");
        })
        .catch(() => {
          console.log("실패");
        });

      getAjax("https://codingapple1.github.io/hello.txt ")
        .then((결과) => {
          console.log(결과);
          return getAjax("https://codingapple1.github.io/hello2.txt ");
        })
        .then((결과) => {
          console.log(결과);
        });

      //   $.ajax({
      //     url: "/examples/media/request_ajax.php", // 클라이언트가 요청을 보낼 서버의 URL 주소

      //     data: { name: "홍길동" }, // HTTP 요청과 함께 서버로 보낼 데이터

      //     type: "GET", // HTTP 요청 방식(GET, POST)

      //     dataType: "json", // 서버에서 보내줄 데이터의 타입
      //   });
    </script>
  </body>
</html>
